% Root File for a UCSB Dissertation
%
%

\documentclass[12pt,twoside,draft]{ucthesis}
% \documentclass[12pt,oneside,final]{ucthesis}
% todo: final options: [12pt,oneside,final]

\usepackage{graphics,epsfig,slashbox}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{cite}
\usepackage{times}
\usepackage{url}
\usepackage{paralist}
\usepackage{wrapfig}
\usepackage{caption}
%\DeclareCaptionType{copyrightbox}
\usepackage{import}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{color}
\usepackage{url}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage{breakurl} % Note this is to fix the extra long URLs in the
                      % bibliography. Necessary when going from tex -> dvi
                      % -> postscript -> pdf
\usepackage{multirow}
\usepackage[final]{listings}
\usepackage{textcomp}
\usepackage{upquote}
\usepackage{tikz}
\usetikzlibrary{snakes,arrows,shapes}
\usepackage{xspace}


\usepackage{mdframed}

% Making the listings look consistent
%% listing settings
\lstset{ %
upquote=true                    % make quotes in code straight not curved.
basicstyle=\footnotesize\ttfamily,       % the size of the fonts that are used for the code
keywordstyle=\color{black}\bfseries, %The style to use for keywords
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1, each line 
                                % will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=tb,                   % adds a frame around the code
tabsize=2,                      % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
title=\lstname,                 % show the filename of files included with \lstinputlisting;
                                % also try caption instead of title
escapeinside={\%*}{*)},         % if you want to add a comment within your code
morekeywords={*,...},           % if you want to add more keywords to
}


% Cool stuff I took from here:
% http://tex.stackexchange.com/questions/73112/how-to-create-local-labels-refs-in-latex
% macro to define a local label
\newcommand\locallabel[1]{\label{\currentprefix:#1}}
% macro to use a local reference
\newcommand\localref[1]{\ref{\currentprefix:#1}}


% Commands for the scanners used in the papers:
\newcommand{\acunetix}{Acunetix}
\newcommand{\appscan}{AppScan}
\newcommand{\burp}{Burp}
\newcommand{\grendelscan}{Grendel-Scan}
\newcommand{\hailstorm}{Hailstorm}
\newcommand{\milescan}{Milescan}
\newcommand{\nstalker}{N-Stalker}
\newcommand{\ntospider}{NTOSpider}
\newcommand{\paros}{Paros}
\newcommand{\webinspect}{Webinspect}
\newcommand{\waf}{w3af}
\newcommand{\wget}{wget}
\newcommand{\skipfish}{skipfish}
\newcommand{\crawler}{state-aware-scanner}


\newcommand{\initial}{INITIAL}
\newcommand{\config}{CONFIG}
\newcommand{\manual}{MANUAL}

% commands to refer to the applications
\newcommand{\wackopicko}{WackoPicko v2}
\newcommand{\vanillaforums}{Vanilla Forums}
\newcommand{\wordpress}{WordPress v3}
\newcommand{\wordpresstwo}{WordPress v2}
\newcommand{\gallery}{Gallery}
\newcommand{\phpbbtwo}{PhpBB v2}
\newcommand{\phpbbthree}{PhpBB v3}
\newcommand{\scarf}{SCARF}
\newcommand{\simplecms}{Simple CMS}
\newcommand{\finalapp}{TODO FINAL}

% commands of dedacota
\newcommand{\dedacota}{{\sc deDacota}\xspace}
\newcommand{\csh}{C\#\xspace}
\newcommand{\opentag}{\texttt{<\%}\xspace}
\newcommand{\closetag}{\texttt{\%>}\xspace}
\newcommand{\opentageq}{\texttt{<\%=}\xspace}
\newcommand{\dotwrite}{\texttt{TextWriter.Write}\xspace}



%% Document Parts


% run latex with only these files; it's faster without all eps figures etc.
%\includeonly{Title,Front,Intro}
%\includeonly{Title,Front,Intro,Literature,Chapter1,Chapter2,Conclusions}

%%% Document Portion:

\begin{document}

%% Front Matter:
\include{title}          % First Page
\maketitle             % Make Title Page

\begin{frontmatter}
\approvalpage
\copyrightpage
%\input{dedicate}
\include{acknowledgements}
\include{vitae}
%\input{Preface}
\include{abstract}
\tableofcontents
\listoffigures
\listoftables
\lstlistoflistings
\end{frontmatter}


% the chapters

% spacing in figures and tables and their captions can be
% changed here (\ssp for single-space, empty for same as surrounding 
% text); for this to work, the command \figsp has to be included
% in every figure and table right after the \begin{figure}
\def\figsp{\ssp}
%\def\figsp{}


\include{intro}

\include{related-work}

\subincludefrom{black-box/}{black-box}

\subincludefrom{ears/}{ears}

\subincludefrom{dedacota/}{dedacota}

%\include{Conclusions}

\ssp   % bibliography can be single-spaced for UC thesis format
\bibliography{dissertation}
\bibliographystyle{abbrv}%{unsrt}%{alpha}{siam}{apalike}{ieeetr}{plain}{acm}{abbrv}
%\bibliographystyle{IEEE-Alpha} 


%% \part*{\addcontentsline{toc}{part}{Appendices}Appendices}
%% \appendix

%% \include{appendix}

\end{document}


